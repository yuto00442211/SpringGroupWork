<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>

    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
        rel="stylesheet">
</head>
<body>

    <!-- エラーメッセージの表示 -->
     <div th:if="${error}" class="alert alert-danger">
        <p th:text="${error}"></p>
        <!-- エラーメッセージが存在する場合のみリンクを表示 -->
        <a th:href="@{/afterLogin/itemList}" class="btn btn-primary">入札してみよう！</a>
    </div>

   <table class="table table-striped">
	<thead>
		<tr>
			<th>商品ID</th>
			<th>あなたの入札価格</th>
			<th>入札時間</th>
			<th>チャットページへ</th>
			<th></th>
			<th>商品ページへ</th>
			<th th:text="${ok} ? '↓落札できた商品があります↓' : ' '"></th>



		</tr>
	</thead>
	<tbody>
		<!-- データを繰り返し処理 -->
		<tr th:each="itemList : ${mypageList}">
			<!-- 各セルにデータを表示 -->
			<td th:text="${itemList.goods_id}"></td>
			<td th:text="${itemList.current_price}"></td>
			<td th:text="${itemList.bid_time}"></td>
			<td><a
				th:href="@{/afterLogin/mychat(goods_id=${itemList.goods_id})}">チャット</a></td>
				<td th:text="${itemList.notlook} ? '←未読あり' : ' '"></td>
			<td><a
				th:href="@{/afterLogin/auction(productId=${itemList.goods_id})}">入札</a></td>
			<td><a th:if="${itemList.timeup}"
				th:href="@{/afterLogin/update(goods_id=${itemList.goods_id})}">☆落札できました☆</a></td>
		</tr>
	</tbody>
</table>

</body>
</html>